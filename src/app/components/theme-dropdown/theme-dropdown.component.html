<div class="theme-dropdown-container" (click)="onDropdownClick($event)">
  <button class="theme-button" (click)="toggleDropdown()" [title]="'Theme: ' + currentTheme?.name">
    <i class="fas fa-palette"></i>
    <div class="button-theme-preview">
      <div class="color-swatch primary" [style.background-color]="currentTheme?.colors?.primaryColor"></div>
      <div class="color-swatch secondary" [style.background-color]="currentTheme?.colors?.secondaryColor"></div>
      <div class="color-swatch background" [style.background-color]="currentTheme?.colors?.backgroundColor"></div>
    </div>
    <i class="fa fa-caret-down dropdown-icon"></i>
  </button>

  <div class="theme-dropdown" [class.visible]="isDropdownOpen">
    <div class="dropdown-header">
      <h3>Select Theme</h3>
    </div>
    <div class="themes-list">
      <div *ngFor="let theme of themes" class="theme-option" [class.active]="currentTheme?.id === theme.id"
        (click)="changeTheme(theme.id)">
        <div class="theme-color-preview">
          <div class="color-swatch primary" [style.background-color]="theme.colors.primaryColor"></div>
          <div class="color-swatch secondary" [style.background-color]="theme.colors.secondaryColor"></div>
          <div class="color-swatch background" [style.background-color]="theme.colors.backgroundColor"></div>
        </div>
        <span class="theme-name">{{ theme.name }}</span>
        <i *ngIf="currentTheme?.id === theme.id" class="fa fa-check check-icon"></i>
      </div>
    </div>
  </div>
</div>
