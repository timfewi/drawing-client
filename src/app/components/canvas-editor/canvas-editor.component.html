<div class="canvas-editor-container" [class.fullscreen]="isFullscreen">
  <div class="toolbar-container">
    <div class="toolbar" [class.responsive-toolbar]="isFullscreen">
      <!-- Zeichenwerkzeuge -->
      <div class="tool-group drawing-tools">
        <button class="tool-button" (click)="selectTool('brush')" [class.active]="currentTool === 'brush'"
          title="Pinsel">
          <i class="fa fa-paint-brush"></i>
        </button>
        <button class="tool-button" (click)="selectTool('eraser')" [class.active]="currentTool === 'eraser'"
          title="Radierer">
          <i class="fa fa-eraser"></i>
        </button>
        <button class="tool-button" (click)="selectTool('line')" [class.active]="currentTool === 'line'" title="Linie">
          <i class="fa fa-minus"></i>
        </button>
        <button class="tool-button" (click)="selectTool('rectangle')" [class.active]="currentTool === 'rectangle'"
          title="Rechteck">
          <i class="fa fa-square-o"></i>
        </button>
        <button class="tool-button" (click)="selectTool('circle')" [class.active]="currentTool === 'circle'"
          title="Kreis">
          <i class="fa fa-circle-o"></i>
        </button>
      </div>

      <!-- Farbe und Strichbreite -->
      <div class="tool-group color-width-tools">
        <div class="color-picker">
          <input type="color" [value]="currentColor" (input)="updateColor($event)" title="Farbe auswählen">
        </div>
        <div class="stroke-width">
          <input type="range" min="1" max="50" [value]="currentWidth" (input)="updateWidth($event)"
            title="Strichbreite">
          <span class="width-display">{{currentWidth}}px</span>
        </div>
      </div>

      <!-- Aktionen -->
      <div class="tool-group action-tools">
        <button class="action-button" (click)="undo()" [disabled]="!canUndo" title="Rückgängig">
          <i class="fa fa-undo"></i>
        </button>
        <button class="action-button" (click)="redo()" [disabled]="!canRedo" title="Wiederherstellen">
          <i class="fa fa-repeat"></i>
        </button>
        <button class="action-button" (click)="clear()" title="Löschen">
          <i class="fa fa-trash"></i>
        </button>
        <button class="action-button" (click)="saveDrawing()" title="Speichern">
          <i class="fa fa-save"></i>
        </button>
      </div>

      <!-- Fullscreen Toggle -->
      <div class="tool-group fullscreen-tool">
        <button class="action-button fullscreen-toggle" (click)="toggleFullscreen()" title="Vollbild umschalten">
          <i class="fa" [class.fa-expand]="!isFullscreen" [class.fa-compress]="isFullscreen"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Canvas-Container mit optimierter Größe -->
  <div class="canvas-container">
    <canvas #canvas [width]="canvasWidth" [height]="canvasHeight" (mousedown)="onMouseDown($event)"
      (mousemove)="onMouseMove($event)" (mouseup)="onMouseUp($event)" (mouseleave)="onMouseLeave()"
      (touchstart)="onTouchStart($event)" (touchmove)="onTouchMove($event)" (touchend)="onTouchEnd($event)">
    </canvas>
  </div>

  <!-- Statusanzeige im Fullscreen-Modus ausblenden -->
  <div class="status-bar" *ngIf="!isFullscreen">
    <span>Werkzeug: {{currentTool}}</span>
    <span>Farbe: {{currentColor}}</span>
    <span>Breite: {{currentWidth}}px</span>
  </div>
</div>